# Generated from:
# https://github.com/zopefoundation/meta/tree/master/config/pure-python
[meta]
template = "pure-python"
commit-id = "54e37f7de7149c0d4003e40bbe300d012a851ce7"

[python]
with-pypy = false
with-legacy-python = false
with-docs = true
with-sphinx-doctests = true
with-windows = true
with-future-python = true

[tox]
use-flake8 = true
additional-envlist = [
    "py39-datetime",
    ]
testenv-deps = [
    "datetime: DateTime",
    "-cconstraints.txt",
    "pytest-cov",
    ]
testenv-setenv = [
    "COVERAGE_FILE=.coverage.{envname}",
    ]
testenv-commands = [
    "python -V",
    "pip list",
    "pytest --cov=src --cov=tests --cov-report= {posargs}",
    ]
coverage-basepython = "python3"
coverage-deps = [
    "coverage",
    "-cconstraints.txt",
    ]
coverage-command = [
    "mkdir -p {toxinidir}/parts/htmlcov",
    "coverage combine",
    "coverage html",
    "coverage report -m --fail-under=100",
    ]
coverage-depends = "py36,py37,py38,py39,py39-datetime,py310,py311"
coverage-setenv = [
    "COVERAGE_FILE=.coverage",
    ]
coverage-allowlist_externals = [
    "mkdir",
    ]

[coverage]
fail-under = 100.0

[isort]
additional-sources = "{toxinidir}/tests"

[flake8]
additional-sources = "tests"

[manifest]
additional-rules = [
    "recursive-include docs *.ast",
    "recursive-include docs *.bat",
    "recursive-include docs *.jpg",
    "recursive-include tests *.py",
    ]

[check-manifest]
additional-ignores = [
    "docs/CHANGES.rst",
    "docs/_build/html/_images/*",
    "docs/_build/html/_sources/contributing/*",
    "docs/_build/html/_sources/install/*",
    "docs/_build/html/_sources/roadmap/*",
    "docs/_build/html/_sources/upgrade_dependencies/*",
    "docs/_build/html/_sources/usage/*",
    ]

[github-actions]
additional-config = [
    "- [\"3.9\",   \"py39-datetime\"]",
    ]
